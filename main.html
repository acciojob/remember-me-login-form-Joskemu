<!DOCTYPE html>
<html>
<head>
    <title>Form Example</title>
</head>
<body>
	<h1>Login Form</h1>
    <form id="loginForm">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" placeholder="Username"><br><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" placeholder="Password"><br><br>

        <label for="checkbox">Remember me:</label>
        <input type="checkbox" id="checkbox" name="checkbox"><br><br>

        <input type="submit" value="Submit">
    </form>

    <button id="existing" style="display:none;">Login as existing user</button>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const rememberMe = document.getElementById('checkbox').checked;

            if (rememberMe) {
                localStorage.setItem('username', username);
                localStorage.setItem('password', password);
            } else {
                localStorage.removeItem('username');
                localStorage.removeItem('password');
            }

            alert(`Logged in as ${username}`);

            checkExistingUser();
        });

        function checkExistingUser() {
            const username = localStorage.getItem('username');
            const password = localStorage.getItem('password');
            const existingButton = document.getElementById('existing');

            if (username && password) {
                existingButton.style.display = 'block';
                existingButton.onclick = function() {
                    alert(`Logged in as ${username}`);
                }
            } else {
                existingButton.style.display = 'none';
            }
        }

        // Check on page load if there are existing details
        checkExistingUser();
    </script>
</body>
</html>
